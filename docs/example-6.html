<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>BRC Atlas Library example 6</title>
</head>
<body>
  <div class="content">
    <h1>Using the BRC Atlas Library</h1>
    <p>
      Explore the source of this page and examine the code comments to see how it works.
      Included on this page:
      <ul>
        <li>Creating a custom view local atlas</li>
        <li>Includes several map insets</li>
      </ul>
    </p>
    <h2>Show a Channel Islands map using an inset for each island group</h2>
    <p>
      This example demonstrates using user-defined insets 
      with the BRC Atlas library, using the Channel Islands 
      as an example.
    </p>
    <div id="map"></div>
  </div>

  <!--Page CSS-->
  <link rel="stylesheet" href="example.css" />

  <!--D3 JS required exernal dependency of BRC Atlas library-->
  <script src="https://d3js.org/d3.v7.min.js"></script>

  <!--BRC Atlas library JS and CSS
  Here we get the resources in this package-->
  <script src="./../dist/brcatlas.umd.js"></script>
  <link rel="stylesheet" type="text/css" href="./../dist/brcatlas.umd.css">
  <!--But you can get them from the CDNs as shown below-->
  <!-- <script src="https://cdn.jsdelivr.net/gh/biologicalrecordscentre/brc-atlas@latest/dist/brcatlas.umd.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/biologicalrecordscentre/brc-atlas@latest/dist/brcatlas.umd.css"> -->
   
  <script>
    const map = brcatlas.svgMap({
      selector: "#map",
      mapTypesKey: 'Standard tetrad',
      transOptsKey: 'CI1',
      transOptsSel: {
        CI1: {
          id: 'CI1',
          caption: 'Channel Islands',
          bounds: {
            xmin: 520000,
            ymin: 5440000,
            xmax: 560000,
            ymax: 5520000
          },
          insets: [{
            bounds: {
              xmin: 540000,
              ymin: 5500000,
              xmax: 570000,
              ymax: 5510000
            },
            imageX: 30,
            imageY: 410
          },{
            bounds: {
              xmin: 520000,
              ymin: 5470000,
              xmax: 550000,
              ymax: 5490000
            },
            imageX: 30,
            imageY: 250
          },
          {
            bounds: {
              xmin: 550000,
              ymin: 5440000,
              xmax: 580000,
              ymax: 5470000
            },
            imageX: 30,
            imageY: 30
          }]
        }
      },
      insetColour: 'transparent',
      boundaryGjson: './data/ci-32630.geojson',
      gridGjson: './data/ci-grid-32630.geojson',
      proj: "ci",
    })
    map.setIdentfier('./data/example-ci-tetrads.csv')
    map.redrawMap()
  </script>
</body>
</html>