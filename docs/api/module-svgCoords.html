<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Module: svgCoords</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Module: svgCoords</h1>

    




<section>

<header>
    
        
    
</header>

<article>
    <div class="container-overview">
    
        

        
    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".namedTransOpts"><span class="type-signature">(static, constant) </span>namedTransOpts<span class="type-signature"> :object</span></h4>




<div class="description">
    This object contains some named objects that are in the correct format to be used as transOpts arguments to some of the functions in this module.Using one of these may save you generating one of your own. The main bounds elementindicates the extent of the main map (in real world coordinates). The bounds ofinset objects indicate the extent that is to be offset within the map image.The imageX and imageY values of an inset object indicates the position of the offsetportion within the map in pixels. Positve x and y values offset the inset from theleft and bottom of the image respecitvely. Negative x and y values offset the insetfrom the right and top of the image respectively.Each transOpts object also has a property called 'id' which must be set to thevalue used as a key to the object in the parent object. Each also has aproperty called 'caption' which has a name which can be displayed if offeringusers a choice between transformation objects.<ul><li> <b>namedTransOpts.BI1</b> is a bounding box, in EPSG:27700, for the British Ilses that includes the Channel Islands in their natural position.<li> <b>namedTransOpts.BI2</b> is a bounding box, in EPSG:27700, for the British Isles, that doesn't extend as far south as the Channel Islands, but with an inset covering the Channel Isles, offset 25 pixels from the bottom left corner of the output.<li> <b>namedTransOpts.BI3</b> is a bounding box, in EPSG:27700, for the British Isles, that doesn't extend as far north as the Northern Isles.An inset covering the Northern Isles, is offset 25 pixels from the top right corner of the output.<li> <b>namedTransOpts.BI4</b> is a bounding box, in EPSG:27700, for the British Isles, that doesn't extend as far south as the Channel Islands or as far north as the Northern Isles. An inset covering the Channel Isles, is offset 25 pixels from the bottom left corner of the output.An inset covering the Northern Isles, is offset 25 pixels from the top right corner of the output.</ul>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">object</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="svgCoords.js.html">svgCoords.js</a>, <a href="svgCoords.js.html#line242">line 242</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id=".createTrans"><span class="type-signature">(static) </span>createTrans<span class="signature">(transOpts, outputHeight)</span><span class="type-signature"> &rarr; {Object|Object|Array.&lt;Object>|number|number|function|function}</span></h4>
    

    



<div class="description">
    Given a transform options object, describing a bounding rectangle in world coordinates,and a height dimension, this function returns an object that encapsulates the transformationoptions and provides additional transformation functionality and other information.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>transOpts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-svgCoords.html#~transOpts">module:svgCoords~transOpts</a></span>


            
            </td>

            

            

            <td class="description last">The transformation options object.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>outputHeight</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The height, e.g. height in pixels, of an SVG element.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="svgCoords.js.html">svgCoords.js</a>, <a href="svgCoords.js.html#line172">line 172</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>
<ul>
        <li>
<div class="param-desc">
    transopts - The transformation object.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>
</li>
    
        <li>
<div class="param-desc">
    transopts.params - The transformation options object.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>
</li>
    
        <li>
<div class="param-desc">
    transopts.insetDims - An array of objects defining the position and size of insets.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;Object></span>


    </dd>
</dl>
</li>
    
        <li>
<div class="param-desc">
    transopts.height - The height, e.g. height in pixels, of the SVG element.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>
</li>
    
        <li>
<div class="param-desc">
    transopts.width - The width, e.g. width in pixels, of the SVG element.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>
</li>
    
        <li>
<div class="param-desc">
    transopts.point - A function that will take a point object describing real world coordinates and return the SVG coordinates.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>
</li>
    
        <li>
<div class="param-desc">
    transopts.d3Path - A function that will take a geoJson path in real world coordinates and return the SVG path.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>
</li>
    </ul>





        
            

    

    
    <h4 class="name" id=".getTweenTransOpts"><span class="type-signature">(static) </span>getTweenTransOpts<span class="signature">(from, to, outputHeight, tween)</span><span class="type-signature"> &rarr; {<a href="module-svgCoords.html#~transOpts">module:svgCoords~transOpts</a>}</span></h4>
    

    



<div class="description">
    Given both 'from' and 'to' transform options objects, an output height and a'tween' value between 0 and 1, this function returns a transform option objectfor which the map bounds, the inset bounds and the inset image positionare all interpolated between the 'from' and 'to' objects at a positiondepending on the value of the tween value. Typically this would then be usedto help generate a path transformation to use with D3 to animate transitionsbetween different map transformations. Note that this only works withnamed transformation objects defined in this library.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>from</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-svgCoords.html#~transOpts">module:svgCoords~transOpts</a></span>


            
            </td>

            

            

            <td class="description last">The 'from' transformation options object.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>to</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-svgCoords.html#~transOpts">module:svgCoords~transOpts</a></span>


            
            </td>

            

            

            <td class="description last">The 'to' transformation options object.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>outputHeight</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The height, e.g. height in pixels, of an SVG element.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>tween</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Between 0 and 1 indicating the interpolation position.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="svgCoords.js.html">svgCoords.js</a>, <a href="svgCoords.js.html#line320">line 320</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    - Intermediate transformation options object.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-svgCoords.html#~transOpts">module:svgCoords~transOpts</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~getInsetDims"><span class="type-signature">(inner) </span>getInsetDims<span class="signature">(transOpts, outputHeight)</span><span class="type-signature"> &rarr; {Array.&lt;Object>}</span></h4>
    

    



<div class="description">
    Given a transform options object, describing a bounding rectangle in world coordinates,and a height dimension, this function returns an array of objects - onefor each inset described in the transform object - that describe a set ofrectangles corresponding to each of the insets. Each object has an origincorresponding to the top-left of the rectangle, a width and a height dimension.The dimensions and coordiates are relative to the height argument. A typicaluse of these metrics would be to draw an SVG rectagle around an inset.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>transOpts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-svgCoords.html#~transOpts">module:svgCoords~transOpts</a></span>


            
            </td>

            

            

            <td class="description last">The transformation options object.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>outputHeight</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The height, e.g. height in pixels, of an SVG element.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="svgCoords.js.html">svgCoords.js</a>, <a href="svgCoords.js.html#line60">line 60</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;Object></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~transformFunction"><span class="type-signature">(inner) </span>transformFunction<span class="signature">(transOpts, outputHeight)</span><span class="type-signature"> &rarr; {function}</span></h4>
    

    



<div class="description">
    Given a transform options object, describing a bounding rectangle in world coordinates,and a height dimension, this function returns a new function that will accept apoint argument - normally describing real world coordinates - and returns a point that is transformed to be within the range 0 - outputHeight (for y)and 0 - outputWidth (for x). This function can be used as input to a d3.geoTransformto provide a transformation to d3.geoPath to draw an SVG path from a geojson file.The transOpts argument is an object which can also describe areas which shoulddisplaced in the output. This can be used for displaying islands in aninset, e.g. the Channel Islands.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>transOpts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-svgCoords.html#~transOpts">module:svgCoords~transOpts</a></span>


            
            </td>

            

            

            <td class="description last">The transformation options object.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>outputHeight</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The height, e.g. height in pixels, of an SVG element.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="svgCoords.js.html">svgCoords.js</a>, <a href="svgCoords.js.html#line112">line 112</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="~widthFromHeight"><span class="type-signature">(inner) </span>widthFromHeight<span class="signature">(transOpts, outputHeight)</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    Given a transform options object, describing a bounding rectangle in world coordinates,and a height dimension, this function returns a width dimensionthat respects the aspect ratio described by the bounding rectangle.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>transOpts</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-svgCoords.html#~transOpts">module:svgCoords~transOpts</a></span>


            
            </td>

            

            

            <td class="description last">The transformation options object.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>outputHeight</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The height, e.g. height in pixels, of an SVG element.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="svgCoords.js.html">svgCoords.js</a>, <a href="svgCoords.js.html#line92">line 92</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                
<h4 class="name" id="~transOpts">transOpts</h4>




<div class="description">
    A 'transformation' options object simply defines the extents of themap, potentially with insets too.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">this must match the key by which the object is accessed throughthe parent object.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>caption</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">a human readable name for this transformation options object.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>bounds</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-svgCoords.html#~transOptsBounds">module:svgCoords~transOptsBounds</a></span>


            
            </td>

            

            

            <td class="description last">an object defining the extents of the map.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>insets</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="module-svgCoords.html#~transOptsInset">module:svgCoords~transOptsInset</a>></span>


            
            </td>

            

            

            <td class="description last">an array of objects defining the inset portions of the map.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="svgCoords.js.html">svgCoords.js</a>, <a href="svgCoords.js.html#line11">line 11</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="~transOptsBounds">transOptsBounds</h4>




<div class="description">
    an object defining the extents of the map, or portion of a mpa, in the projection systemyou want to use (either British Nation Gid, Irish National Grid or UTM 30 N for Channel Islands).properties on this element are xmin, ymin, xmax and ymax.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>xmin</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">the x value for the lower left corner.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ymin</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">the y value for the lower left corner.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>xmax</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">the x value for the top right corner.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>ymax</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">the y value for the top right corner.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="svgCoords.js.html">svgCoords.js</a>, <a href="svgCoords.js.html#line37">line 37</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="~transOptsInset">transOptsInset</h4>




<div class="description">
    an object defining an inset for a map, i.e. part of a mapwhich will be displayed in a different location to that in which it is actually found
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>bounds</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-svgCoords.html#~transOptsBounds">module:svgCoords~transOptsBounds</a></span>


            
            </td>

            

            

            <td class="description last">an object defining the extents of the inset.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>imageX</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">a value defining where the inset will be displayed(displaced) on the SVG. If the number is positive it represents the number of pixels the left boundary of the inset will be positioned from the left margin ofthe SVG. If it is negative, it represents the number of pixels the right boundaryof the inset will be positioned from the right boundary of the SVG.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>imageY</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">a value defining where the inset will be displayed(displaced) on the SVG. If the number is positive it represents the number of pixels the botton boundary of the inset will be positioned from the bottom margin ofthe SVG. If it is negative, it represents the number of pixels the top boundaryof the inset will be positioned from the top boundary of the SVG.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="svgCoords.js.html">svgCoords.js</a>, <a href="svgCoords.js.html#line21">line 21</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
                
<h4 class="name" id="~transOptsSel">transOptsSel</h4>






    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">there must be at least one, but potentially more, propertieson this object, each describing a map 'transformation'.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="svgCoords.js.html">svgCoords.js</a>, <a href="svgCoords.js.html#line5">line 5</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-dataAccess.html">dataAccess</a></li><li><a href="module-slippyMap.html">slippyMap</a></li><li><a href="module-svgCoords.html">svgCoords</a></li><li><a href="module-svgLegend.html">svgLegend</a></li><li><a href="module-svgMap.html">svgMap</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Thu Apr 08 2021 12:57:39 GMT+0100 (British Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>