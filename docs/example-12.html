<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>BRC Atlas Library example 12</title>
  <style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      padding: 15px;
    }
    li {
      margin-bottom: 1em;
    }
  </style>
</head>
<body>
  <div class="content">
    <h1>Using the BRC Atlas Library</h1>
    <p>
      Explore the source of this page and examine the code comments to see how it works.
      Included on this page:
      <ul>
        <li>Adding and removing custom geojson data to the Leaflet map</li>
      </ul>
    </p>
    <h2>Add geojson layers to Leaflet map</h2>
    <div id="map"></div>
    <button onclick="addLayer('vc40')">Add VC40</button>
    <button onclick="removeLayer('vc40')">Remove VC40</button>
    <button onclick="addLayer('vcH1')">Add VCH1</button>
    <button onclick="removeLayer('vcH1')">Remove VCH1</button>
  </div>

  <!--Page CSS-->
  <link rel="stylesheet" href="example.css" />

  <!--D3 JS required exernal dependency of BRC Atlas library-->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <!--Leaflet JS required exernal dependency of BRC Atlas library-->
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />

  <!--BRC Atlas library JS and CSS
  Here we get the resources in this package-->
  <script src="./../dist/brcatlas.umd.js"></script>
  <link rel="stylesheet" type="text/css" href="./../dist/brcatlas.umd.css">
  <!--But you can get them from the CDNs as shown below-->
  <!-- <script src="https://cdn.jsdelivr.net/gh/biologicalrecordscentre/brc-atlas@latest/dist/brcatlas.umd.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/biologicalrecordscentre/brc-atlas@latest/dist/brcatlas.umd.css"> -->

  <script>

    const map = brcatlas.leafletMap({
      selector: "#map"
    })
    map.setIdentfier('./data/example-hectads-1.csv')
    map.redrawMap()

    function removeLayer(name) {
      // Use the removeGeojsonLayer method to remove previously added geojson
      map.removeGeojsonLayer(name)
    }
    function addLayer(name) {
      // Use the addGeojsonLayer method to add a geojson layer
      map.addGeojsonLayer({
        name: name,
        url: `./data/${name}.geojson`
      })
    }
  </script>
</div>
</html>