!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||self)["brc-atlas"]={})}(this,(function(n){"use strict";function i(n,i){var o=m(n,i),u=s(n,i),x=[];return n.insets&&n.insets.forEach((function(n){var m=u([n.bounds.xmin,n.bounds.ymin]),s=u([n.bounds.xmax,n.bounds.ymax]),e=s[0]-m[0],a=m[1]-s[1];x.push({x:n.imageX<0?o-e+n.imageX:n.imageX,y:n.imageY<0?-n.imageY:i-n.imageY-a,width:e,height:a})})),x}function m(n,i){return i*(n.bounds.xmax-n.bounds.xmin)/(n.bounds.ymax-n.bounds.ymin)}function s(n,i){var s=n.bounds.xmax-n.bounds.xmin,o=n.bounds.ymax-n.bounds.ymin,u=m(n,i);return function(m){var x,e,a=m[0],d=m[1];return x=u*(a-n.bounds.xmin)/s,e=i-i*(d-n.bounds.ymin)/o,n.insets&&n.insets.length>0&&n.insets.forEach((function(m){if(a>=m.bounds.xmin&&a<=m.bounds.xmax&&d>=m.bounds.ymin&&d<=m.bounds.ymax){var b,t,y=u*(m.bounds.xmin-n.bounds.xmin)/s,g=i-i*(m.bounds.ymin-n.bounds.ymin)/o;b=m.imageX<0&&!n.forTween?u+m.imageX-(m.bounds.xmax-m.bounds.xmin)/s*u:m.imageX,t=m.imageY<0&&!n.forTween?i+m.imageY-(m.bounds.ymax-m.bounds.ymin)/o*i:m.imageY,x=x-y+b,e=i-t-(g-e)}})),[x,e]}}var o={xmin:337373,ymin:-92599,xmax:427671,ymax:-6678},u={xmin:312667,ymin:980030,xmax:475291,ymax:1225003},x={BI1:{bounds:{xmin:-213389,ymin:-113239,xmax:702813,ymax:1237242}},BI2:{bounds:{xmin:-213389,ymin:-9939,xmax:702813,ymax:1237242},insets:[{bounds:o,imageX:25,imageY:25}]},BI3:{bounds:{xmin:-213389,ymin:-9939,xmax:702813,ymax:105e4},insets:[{bounds:u,imageX:-25,imageY:-25}]},BI4:{bounds:{xmin:-213389,ymin:-9939,xmax:702813,ymax:105e4},insets:[{bounds:o,imageX:25,imageY:25},{bounds:u,imageX:-25,imageY:-25}]}};function e(n,s){var x,e,a=i(n,s),d={bounds:{xmin:n.bounds.xmin,xmax:n.bounds.xmax,ymin:n.bounds.ymin,ymax:n.bounds.ymax},insets:[]};return n.insets&&n.insets.forEach((function(n,i){var m={bounds:{xmin:n.bounds.xmin,xmax:n.bounds.xmax,ymin:n.bounds.ymin,ymax:n.bounds.ymax}};m.imageX=a[i].x,m.imageY=s-a[i].y-a[i].height,d.insets.push(m)})),d.insets.forEach((function(n){n.bounds.xmin===o.xmin&&(x=!0),n.bounds.xmin===u.xmin&&(e=!0)})),x||d.insets.unshift({bounds:o,imageX:(o.xmin-d.bounds.xmin)/(d.bounds.xmax-d.bounds.xmin)*m(d,s),imageY:(o.ymin-d.bounds.ymin)/(d.bounds.ymax-d.bounds.ymin)*s}),e||d.insets.push({bounds:u,imageX:(u.xmin-d.bounds.xmin)/(d.bounds.xmax-d.bounds.xmin)*m(d,s),imageY:(u.ymin-d.bounds.ymin)/(d.bounds.ymax-d.bounds.ymin)*s}),d}n.getInsetDims=i,n.getTweenTransOpts=function(n,i,m,s){var o=e(x[n],m),u=e(x[i],m),a={bounds:{xmin:o.bounds.xmin+(u.bounds.xmin-o.bounds.xmin)*s,xmax:o.bounds.xmax+(u.bounds.xmax-o.bounds.xmax)*s,ymin:o.bounds.ymin+(u.bounds.ymin-o.bounds.ymin)*s,ymax:o.bounds.ymax+(u.bounds.ymax-o.bounds.ymax)*s},insets:[],forTween:!0};return o.insets.forEach((function(n,i){a.insets.push({bounds:{xmin:n.bounds.xmin+(u.insets[i].bounds.xmin-n.bounds.xmin)*s,xmax:n.bounds.xmax+(u.insets[i].bounds.xmax-n.bounds.xmax)*s,ymin:n.bounds.ymin+(u.insets[i].bounds.ymin-n.bounds.ymin)*s,ymax:n.bounds.ymax+(u.insets[i].bounds.ymax-n.bounds.ymax)*s},imageX:n.imageX+(u.insets[i].imageX-n.imageX)*s,imageY:n.imageY+(u.insets[i].imageY-n.imageY)*s})})),a},n.namedTransOpts=x,n.transformFunction=s,n.widthFromHeight=m,Object.defineProperty(n,"__esModule",{value:!0})}));
